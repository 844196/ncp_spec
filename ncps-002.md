# NCPS-002: 暗号化仕様

以下、平文「こんにちは」を以下の設定時に暗号化することについて考えます:

* 鍵「あいうえお」
* 区切り文字「。」

## 1. 分割

平文を一文字ずつ分割します。

```json
["こ", "ん", "に", "ち", "は"]
```

## 2. コードポイントの導出

分割された平文の各文字をコードポイントに変換します。以下は「こんにちは」のコードポイント（16進数）です。

```json
["3053", "3093", "306B", "3061", "306F"]
```

## 3. コードポイントのn進数変換

分割されたコードポイントを `(鍵文字列の長さ)進数` に変換します。鍵が「あいうえお」の場合、5文字ですので5進数に変換されます。

```json
["343441", "344220", "344040", "344020", "344044"]
```

## 4. 換字

n進数に変換されたコードポイントを換字表で換字します。鍵が「あいうえお」の場合、換字表は以下の通りです。

| FROM | TO |
|------|----|
| 0    | あ |
| 1    | い |
| 2    | う |
| 3    | え |
| 4    | お |

```json
["えおえおおい", "えおおううあ", "えおおあおあ", "えおおあうあ", "えおおあおお"]
```

## 5. 結合

区切り文字で結合し、一つの文字列にします。この時、末尾にも区切り文字を付与します。

```json
"えおえおおい。えおおううあ。えおおあおあ。えおおあうあ。えおおあおお。"
```
